{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams,Link}from'react-router-dom';import{apiRequest}from'../utils/api';import{CalendarIcon,UserIcon,ArrowLeftIcon,ClockIcon,BookmarkIcon,ShareIcon}from'@heroicons/react/24/outline';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function PostDetail(){const{id}=useParams();const[post,setPost]=useState(null);const[loading,setLoading]=useState(true);const[readTime,setReadTime]=useState(0);useEffect(()=>{apiRequest(\"/api/posts/\".concat(id)).then(post=>{setPost(post);// Calculate estimated read time (rough estimate: 200 words per minute)\nconst wordCount=post.content.split(/\\s+/).length;setReadTime(Math.ceil(wordCount/200));}).catch(()=>setPost(null)).finally(()=>setLoading(false));},[id]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center min-h-screen\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600\"})});}if(!post){return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4 py-16 text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-800 mb-4\",children:\"Post not found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-8\",children:\"The post you're looking for doesn't exist or has been removed.\"}),/*#__PURE__*/_jsxs(Link,{to:\"/\",className:\"inline-flex items-center text-primary-600 hover:text-primary-500\",children:[/*#__PURE__*/_jsx(ArrowLeftIcon,{className:\"h-5 w-5 mr-2\"}),\"Back to Home\"]})]});}return/*#__PURE__*/_jsx(\"article\",{className:\"min-h-screen bg-dots-pattern\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto px-4 py-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/\",className:\"inline-flex items-center text-gray-600 hover:text-primary-600 mb-8 animate-fade-in\",children:[/*#__PURE__*/_jsx(ArrowLeftIcon,{className:\"h-5 w-5 mr-2\"}),\"Back to Posts\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"glass-card rounded-xl p-8 shadow-2xl animate-fade-in\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold text-gray-900 mb-6 animate-slide-up\",children:post.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap items-center gap-6 text-sm text-gray-500 mb-8 animate-fade-in\",style:{animationDelay:'0.2s'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(UserIcon,{className:\"h-5 w-5 mr-2 text-primary-500\"}),/*#__PURE__*/_jsx(\"span\",{children:post.username})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(CalendarIcon,{className:\"h-5 w-5 mr-2 text-primary-500\"}),/*#__PURE__*/_jsx(\"span\",{children:new Date(post.createdAt).toLocaleDateString('en-US',{year:'numeric',month:'long',day:'numeric'})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(ClockIcon,{className:\"h-5 w-5 mr-2 text-primary-500\"}),/*#__PURE__*/_jsxs(\"span\",{children:[readTime,\" min read\"]})]})]}),post.imageURL&&/*#__PURE__*/_jsxs(\"div\",{className:\"relative rounded-lg overflow-hidden mb-8 animate-fade-in fancy-border\",style:{animationDelay:'0.3s'},children:[/*#__PURE__*/_jsx(\"img\",{src:post.imageURL,alt:post.title,className:\"w-full aspect-video object-cover\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-t from-black/30 to-transparent\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-4 mb-8 animate-fade-in\",style:{animationDelay:'0.4s'},children:[/*#__PURE__*/_jsx(\"button\",{className:\"p-2 rounded-full hover:bg-gray-100 transition-colors\",title:\"Save for later\",children:/*#__PURE__*/_jsx(BookmarkIcon,{className:\"h-5 w-5 text-gray-500\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"p-2 rounded-full hover:bg-gray-100 transition-colors\",title:\"Share\",children:/*#__PURE__*/_jsx(ShareIcon,{className:\"h-5 w-5 text-gray-500\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"prose prose-lg max-w-none animate-fade-in\",style:{animationDelay:'0.5s'},children:post.content}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 pt-8 border-t border-gray-200 animate-fade-in\",style:{animationDelay:'0.6s'},children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Enjoyed this article?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-4\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn-primary\",children:[\"Follow \",post.username]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-primary bg-gray-600 hover:bg-gray-500\",children:\"Share Article\"})]})]})]})]})})});}export default PostDetail;","map":{"version":3,"names":["React","useEffect","useState","useParams","Link","apiRequest","CalendarIcon","UserIcon","ArrowLeftIcon","ClockIcon","BookmarkIcon","ShareIcon","jsx","_jsx","jsxs","_jsxs","PostDetail","id","post","setPost","loading","setLoading","readTime","setReadTime","concat","then","wordCount","content","split","length","Math","ceil","catch","finally","className","children","to","title","style","animationDelay","username","Date","createdAt","toLocaleDateString","year","month","day","imageURL","src","alt"],"sources":["C:/Users/ayush/OneDrive/Desktop/python practice/blog-app/client/src/pages/PostDetail.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport { apiRequest } from '../utils/api';\r\nimport { \r\n  CalendarIcon, \r\n  UserIcon, \r\n  ArrowLeftIcon,\r\n  ClockIcon,\r\n  BookmarkIcon,\r\n  ShareIcon\r\n} from '@heroicons/react/24/outline';\r\n\r\nfunction PostDetail() {\r\n  const { id } = useParams();\r\n  const [post, setPost] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [readTime, setReadTime] = useState(0);\r\n\r\n  useEffect(() => {\r\n    apiRequest(`/api/posts/${id}`)\r\n      .then(post => {\r\n        setPost(post);\r\n        // Calculate estimated read time (rough estimate: 200 words per minute)\r\n        const wordCount = post.content.split(/\\s+/).length;\r\n        setReadTime(Math.ceil(wordCount / 200));\r\n      })\r\n      .catch(() => setPost(null))\r\n      .finally(() => setLoading(false));\r\n  }, [id]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center min-h-screen\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!post) {\r\n    return (\r\n      <div className=\"container mx-auto px-4 py-16 text-center\">\r\n        <h1 className=\"text-2xl font-bold text-gray-800 mb-4\">Post not found</h1>\r\n        <p className=\"text-gray-600 mb-8\">The post you're looking for doesn't exist or has been removed.</p>\r\n        <Link\r\n          to=\"/\"\r\n          className=\"inline-flex items-center text-primary-600 hover:text-primary-500\"\r\n        >\r\n          <ArrowLeftIcon className=\"h-5 w-5 mr-2\" />\r\n          Back to Home\r\n        </Link>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <article className=\"min-h-screen bg-dots-pattern\">\r\n      <div className=\"container mx-auto px-4 py-12\">\r\n        <div className=\"max-w-4xl mx-auto\">\r\n          <Link\r\n            to=\"/\"\r\n            className=\"inline-flex items-center text-gray-600 hover:text-primary-600 mb-8 animate-fade-in\"\r\n          >\r\n            <ArrowLeftIcon className=\"h-5 w-5 mr-2\" />\r\n            Back to Posts\r\n          </Link>\r\n          \r\n          <div className=\"glass-card rounded-xl p-8 shadow-2xl animate-fade-in\">\r\n            <h1 className=\"text-4xl font-bold text-gray-900 mb-6 animate-slide-up\">{post.title}</h1>\r\n            \r\n            <div className=\"flex flex-wrap items-center gap-6 text-sm text-gray-500 mb-8 animate-fade-in\" style={{ animationDelay: '0.2s' }}>\r\n              <div className=\"flex items-center\">\r\n                <UserIcon className=\"h-5 w-5 mr-2 text-primary-500\" />\r\n                <span>{post.username}</span>\r\n              </div>\r\n              <div className=\"flex items-center\">\r\n                <CalendarIcon className=\"h-5 w-5 mr-2 text-primary-500\" />\r\n                <span>{new Date(post.createdAt).toLocaleDateString('en-US', {\r\n                  year: 'numeric',\r\n                  month: 'long',\r\n                  day: 'numeric'\r\n                })}</span>\r\n              </div>\r\n              <div className=\"flex items-center\">\r\n                <ClockIcon className=\"h-5 w-5 mr-2 text-primary-500\" />\r\n                <span>{readTime} min read</span>\r\n              </div>\r\n            </div>\r\n\r\n            {post.imageURL && (\r\n              <div className=\"relative rounded-lg overflow-hidden mb-8 animate-fade-in fancy-border\" style={{ animationDelay: '0.3s' }}>\r\n                <img\r\n                  src={post.imageURL}\r\n                  alt={post.title}\r\n                  className=\"w-full aspect-video object-cover\"\r\n                />\r\n                <div className=\"absolute inset-0 bg-gradient-to-t from-black/30 to-transparent\" />\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"flex justify-end space-x-4 mb-8 animate-fade-in\" style={{ animationDelay: '0.4s' }}>\r\n              <button className=\"p-2 rounded-full hover:bg-gray-100 transition-colors\" title=\"Save for later\">\r\n                <BookmarkIcon className=\"h-5 w-5 text-gray-500\" />\r\n              </button>\r\n              <button className=\"p-2 rounded-full hover:bg-gray-100 transition-colors\" title=\"Share\">\r\n                <ShareIcon className=\"h-5 w-5 text-gray-500\" />\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"prose prose-lg max-w-none animate-fade-in\" style={{ animationDelay: '0.5s' }}>\r\n              {post.content}\r\n            </div>\r\n\r\n            <div className=\"mt-8 pt-8 border-t border-gray-200 animate-fade-in\" style={{ animationDelay: '0.6s' }}>\r\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Enjoyed this article?</h3>\r\n              <div className=\"flex flex-wrap gap-4\">\r\n                <button className=\"btn-primary\">\r\n                  Follow {post.username}\r\n                </button>\r\n                <button className=\"btn-primary bg-gray-600 hover:bg-gray-500\">\r\n                  Share Article\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default PostDetail;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}